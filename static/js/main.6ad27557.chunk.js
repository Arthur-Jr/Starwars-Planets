(this["webpackJsonpplanet-finder"]=this["webpackJsonpplanet-finder"]||[]).push([[0],{22:function(e,t,a){e.exports=a.p+"static/media/gitHubIcon.f25d8a38.svg"},23:function(e,t,a){e.exports=a.p+"static/media/linkedinIcon.65220039.svg"},25:function(e,t,a){e.exports=a(41)},31:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(15),c=a(20),o=a.n(c),u=a(1),i=a(4),s=a(8),m=Object(n.createContext)(),f={string:["name","climate","gravity","terrain"],number:["rotation_period","orbital_period","diameter","surface_water","population"]};var p=function(e,t){var a=t.column;return"ASC"===t.sort?function(e,t){return f.string.some((function(e){return e===t}))?e.sort((function(e,a){return e[t]>a[t]?1:e[t]<a[t]?-1:0})):f.number.some((function(e){return e===t}))?e.sort((function(e,a){return parseInt(e[t],10)>parseInt(a[t],10)?1:parseInt(e[t],10)<parseInt(a[t],10)?-1:0})):void 0}(e,a):function(e,t){return f.string.some((function(e){return e===t}))?e.sort((function(e,a){return a[t]>e[t]?1:a[t]<e[t]?-1:0})):f.number.some((function(e){return e===t}))?e.sort((function(e,a){return parseInt(a[t],10)>parseInt(e[t],10)?1:parseInt(a[t],10)<parseInt(e[t],10)?-1:0})):void 0}(e,a)};var d=function(e){var t=e.children,a=Object(n.useState)([]),l=Object(s.a)(a,2),c=l[0],o=l[1],u=Object(n.useState)({column:"population",comparison:"Greater",value:""}),f=Object(s.a)(u,2),d=f[0],b=f[1],v=Object(n.useState)({filterByName:{name:""},filterByNumericValues:[],order:{column:"name",sort:"ASC"}}),h=Object(s.a)(v,2),E=h[0],O=h[1],j=Object(n.useState)(["population","orbital_period","diameter","rotation_period","surface_water"]),y=Object(s.a)(j,2),C=y[0],g=y[1],I=Object(n.useState)([]),x=Object(s.a)(I,2),N=x[0],S=x[1],k=Object(n.useState)([]),F=Object(s.a)(k,2),w=F[0],B=F[1];return Object(n.useEffect)((function(){var e=Object(i.a)(c);E.filterByNumericValues.forEach((function(t){var a=t.comparison,n=t.column,r=t.value;switch(a){case"Greater":e=Object(i.a)(e.filter((function(e){return parseInt(e[n],10)>parseInt(r,10)})));break;case"Equal":e=Object(i.a)(e.filter((function(e){return parseInt(e[n],10)===parseInt(r,10)})));break;case"Lesser":e=Object(i.a)(e.filter((function(e){return parseInt(e[n],10)<parseInt(r,10)})));break;default:return null}})),S(e)}),[E.filterByNumericValues,c]),Object(n.useEffect)((function(){B(p(N,E.order)),B(N.filter((function(e){return e.name.toLowerCase().includes(E.filterByName.name.toLowerCase())})))}),[E.filterByName.name,N,E.order]),r.a.createElement(m.Provider,{value:{data:c,setData:o,filters:E,setFilter:O,filtredData:N,setFiltredData:S,planets:w,setPlanets:B,columnOptions:C,modifyColumnOptions:g,columnFilter:d,setColumnFilter:b}},t)},b=a(16),v=a.n(b),h=a(21);var E=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};var O=function(){var e=Object(n.useContext)(m).planets;return r.a.createElement("tbody",null,e.map((function(e,t){delete e.films,delete e.created,delete e.edited,delete e.url;var a=Object.values(e);return r.a.createElement("tr",{key:t},a.map((function(e,t){return r.a.createElement("td",{key:t,"data-testid":0===t?"planet-name":"infos"},4===t||6===t?E(e):e)})))})))};var j=function(){return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Rotation Period"),r.a.createElement("th",null,"Orbital Period"),r.a.createElement("th",null,"Diameter"),r.a.createElement("th",null,"Climate"),r.a.createElement("th",null,"Gravity"),r.a.createElement("th",null,"Terrain"),r.a.createElement("th",null,"Surfacer Water"),r.a.createElement("th",null,"Population"))),r.a.createElement(O,null))},y=a(10),C=a(2);function g(e){var t=e.placeHolder,a=e.type,n=e.handleChange,l=e.name,c=e.testId,o=e.min,u=e.value,i=e.id,s=e.text,m=e.max;return r.a.createElement("label",{htmlFor:i},r.a.createElement("input",{type:a,onChange:n,name:l,id:i,"data-testid":c,placeholder:t,min:o,value:u,max:m}),s)}g.defaultProps={testId:"",min:0,text:"",placeHolder:"",max:0};var I=g;var x=function(e){return e.charAt(0).toUpperCase()+e.slice(1).replace("_"," ")};function N(e){var t=e.name,a=e.testId,n=e.handleChange,l=e.options,c=e.text,o=e.value;return r.a.createElement("label",{htmlFor:t},"".concat(c,": "),r.a.createElement("select",{value:o,name:t,id:t,"data-testid":a,onChange:n},l.map((function(e,t){return r.a.createElement("option",{key:t,value:e},x(e))}))))}N.defaultProps={testId:"",options:[],value:""};var S=N;var k=function(){var e=Object(n.useState)({column:"name",sort:"ASC"}),t=Object(s.a)(e,2),a=t[0],l=t[1],c=Object(n.useContext)(m),o=c.filters,u=c.setFilter,p=function(e){var t=e.target,n=t.name,r=t.value;l(Object(C.a)(Object(C.a)({},a),{},Object(y.a)({},n,r)))},d=f.string,b=f.number;return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),u(Object(C.a)(Object(C.a)({},o),{},{order:a}))},className:"sort-form"},r.a.createElement(S,{name:"column",testId:"column-sort",options:[].concat(Object(i.a)(d),Object(i.a)(b)),text:"Sort Options",handleChange:p,value:a.column}),r.a.createElement("section",{className:"radio-section"},r.a.createElement(I,{text:"Asc",type:"radio",name:"sort",testId:"column-sort-input-asc",value:"ASC",id:"asc",handleChange:p}),r.a.createElement(I,{text:"Desc",type:"radio",name:"sort",testId:"column-sort-input-desc",value:"DESC",id:"des",handleChange:p})),r.a.createElement("button",{type:"submit","data-testid":"column-sort-button",className:"form-button"},"Sort"))};var F=function(){var e=Object(n.useContext)(m),t=e.filters,a=e.setFilter,l=e.columnOptions,c=e.modifyColumnOptions,o=e.columnFilter,u=e.setColumnFilter,f=t.filterByNumericValues,p=t.filterByName.name,d=Object(n.useState)(["Greater","Equal","Lesser"]),b=Object(s.a)(d,1)[0],v=function(e){var t=e.target,a=t.value,n=t.name;u(Object(C.a)(Object(C.a)({},o),{},Object(y.a)({},n,a)))};return r.a.createElement("header",{className:"header"},r.a.createElement("h1",{className:"title"},"Planet Finder"),r.a.createElement("section",{className:"textFilter-section"},r.a.createElement(I,{placeHolder:"Search",type:"text",name:"search-name",id:"search-name",testId:"name-filter",handleChange:function(e){var n=e.target.value;a(Object(C.a)(Object(C.a)({},t),{},{filterByName:{name:n}}))},value:p})),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a(Object(C.a)(Object(C.a)({},t),{},{filterByNumericValues:[].concat(Object(i.a)(f),[o])})),function(){var e=Object(i.a)(l);e.splice(e.indexOf(o.column),1),c(e),u(Object(C.a)(Object(C.a)({},o),{},{column:e[0],value:""})),console.log(e)}()},className:"filter-form"},r.a.createElement(S,{name:"column",testId:"column-filter",options:l,text:"Column Filter",handleChange:v,value:o.column}),r.a.createElement(S,{name:"comparison",testId:"comparison-filter",options:b,text:"Comparison Filter",handleChange:v,value:o.comparison}),r.a.createElement(I,{placeHolder:"Set a value",type:"number",name:"value",id:"value",testId:"value-filter",handleChange:v,value:o.value,max:1e12}),r.a.createElement("button",{type:"submit","data-testid":"button-filter",disabled:0===l.length||0===o.value.length,className:"form-button"},"Search")),r.a.createElement("section",{className:"sort-section"},r.a.createElement(k,null)))},w=a(22),B=a.n(w),D=a(23),A=a.n(D);var P=function(){function e(e){window.open(e,"_blank")}return r.a.createElement("footer",{className:"main-footer","data-testid":"footer"},r.a.createElement("button",{type:"button",onClick:function(){return e("https://github.com/Arthur-Jr")},"data-testid":"social-icon"},r.a.createElement("img",{src:B.a,alt:"github icon"})),r.a.createElement("button",{type:"button",onClick:function(){return e("https://www.linkedin.com/in/arthur-jr/")},"data-testid":"social-icon"},r.a.createElement("img",{src:A.a,alt:"linkedin icon"})))};var _=function(){var e=Object(n.useContext)(m),t=e.filters,a=e.filters.filterByNumericValues,l=e.setFilter,c=e.columnOptions,o=e.modifyColumnOptions,u=e.columnFilter,s=e.setColumnFilter;return r.a.createElement("div",{className:"selectedFilters-section"},a.map((function(e,n){var m=e.column;return r.a.createElement("div",{key:n,"data-testid":"filter",className:"filter-container"},r.a.createElement("span",null,x(m)),r.a.createElement("button",{type:"button",onClick:function(){return function(e){var n=a.filter((function(t){return t.column!==e}));l(Object(C.a)(Object(C.a)({},t),{},{filterByNumericValues:n})),0===c.length&&s(Object(C.a)(Object(C.a)({},u),{},{column:e})),o([].concat(Object(i.a)(c),[e]))}(m)}},"X"))})))};var V=function(){var e=Object(n.useContext)(m).setData;return Object(n.useEffect)((function(){function t(){return(t=Object(h.a)(v.a.mark((function t(){var a,n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,"https://swapi-trybe.herokuapp.com/api/planets/",t.next=4,fetch("https://swapi-trybe.herokuapp.com/api/planets/").then((function(e){return e.json()}));case 4:a=t.sent,(n=a.results).forEach((function(e){delete e.residents})),e(n),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),e(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),r.a.createElement("main",{className:"page-main"},r.a.createElement("section",{className:"main-section"},r.a.createElement(F,null),r.a.createElement(_,null),r.a.createElement(j,null)),r.a.createElement(P,null))};a(31);var H=function(){return r.a.createElement(d,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/starwars-planet-finder",component:V})))};a(40);o.a.render(r.a.createElement(l.a,null,r.a.createElement(H,null)),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.6ad27557.chunk.js.map